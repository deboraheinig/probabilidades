#include <iostream>
#include <time.h>

int inicio() {
    int num = 0;
    do {

        std::cout << " 1. Rolar um dado " << std::endl;
        std::cout << " 2. Rolar mais de um dado " << std::endl;
        std::cout << " 3. Avaliar o problema de Monty Hall (DESAFIO) " << std::endl;
        std::cin >> num;
    } while (num < 0 && num > 4);
    return num;
}

void calculo(int lados, int roll, int vet[], int qdado) {

    float porcent = 0;
    std::cout << "roll " << roll << std::endl;
    std::cout << "Quantidade de vezes de cada resultado; \n";
    // Executar 1x, parâmetro, repetição
    for (int i = 0; i < qdado * lados; i++) {
        std::cout << i + 1 << ": " << vet[i] << std::endl;

    }
    for (int k = 0; k < qdado * lados; k++) {
        porcent = (vet[k] / roll) * 100;
        std::cout << k + 1 << ": " << porcent << "%" << std::endl;
        /// std::cout << "vk: " << vet[k] << std::endl;
    }
}

void opcao(int lados, int roll) {

    int vet[100] = { 0 };
    int qdado = 1;
    // Executar 1x, parâmetro, repetição
    for (int i = 0; i < roll; i++) {
        int result = rand() % lados;
        vet[result]++;
    }
    calculo(lados, roll, vet, qdado);
}

void opcao(int lados, int roll, int qdado) {
    int vet[100] = { 0 }, resp[100] = {0}, matriz[100][100] = { 0 };
    for (int i = 0; i < qdado; i++) {
        for (int j = 0; j < roll; j++) {
            matriz[i][j] = rand() % lados;
            //std::cout << "Matriz de :" << i << ": " << matriz[i][j] << std::endl;
        }
    }
    for (int i = 0; i < qdado; i++) {
        for (int j = 0; j < roll; j++) {
            vet[j] = vet[j] + matriz[i][j];
            // std::cout << vet[i] << std::endl;
        }
    }
    for (int i = 0; i < roll; i++) {
        int n = vet[i];
        resp[n]++;
    }

    calculo(lados, roll, vet, qdado);
}

void dados(int& lados, int& roll, int& qdado) {

    do {
        std::cout << "Qual o numero de dados? " << std::endl;
        std::cin >> qdado;

        std::cout << "Qual o numero de lados do seu dado?" << std::endl;
        std::cin >> lados;

        std::cout << "Quantas vezes voce quer rolar o dado?" << std::endl;
        std::cin >> roll;
    } while (lados <= 0 or lados >= 100 or roll <= 0 or lados * qdado > 100 );

}

void dados(int &lados, int &roll) {

    do {
        std::cout << "Qual o numero de lados do seu dado?" << std::endl;
        std::cin >> lados;

        std::cout << "Quantas vezes voce quer rolar o dado?" << std::endl;
        std::cin >> roll;
    } while (lados <= 0 or lados >= 100 or roll <= 0); 

}

int main()
{

    int lados = 0, roll = 0, num = 0, qdado = 0;
    srand(time(NULL));
    num = inicio();

    if (num == 1) {
        dados(lados, roll);
        opcao(lados, roll);
    }

    if (num == 2) {

        dados(lados, roll, qdado);
        opcao(lados, roll, qdado);
    }
}
